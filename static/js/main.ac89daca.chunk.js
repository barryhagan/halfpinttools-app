(this["webpackJsonphalfpinttools-app"]=this["webpackJsonphalfpinttools-app"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/baseline-cloud_upload-24px.3f7e59cc.svg"},function(e,t,a){e.exports=a.p+"static/media/baseline-check_circle_outline-24px.e0d99bb4.svg"},function(e,t,a){e.exports=a(22)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(9),i=a.n(r),l=(a(17),a(2)),o=a(3),c=a(5),d=a(4),p=a(6),u=(a(18),a(7)),h=a(1),f=(a(19),a(10)),m=a.n(f),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={hightlight:!1},a.fileInputRef=s.a.createRef(),a.openFileDialog=a.openFileDialog.bind(Object(h.a)(a)),a.onFilesAdded=a.onFilesAdded.bind(Object(h.a)(a)),a.onDragOver=a.onDragOver.bind(Object(h.a)(a)),a.onDragLeave=a.onDragLeave.bind(Object(h.a)(a)),a.onDrop=a.onDrop.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onFilesAdded",value:function(e){if(!this.props.disabled){var t=e.target.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}}}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabed||this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(e){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabed){var t=e.dataTransfer.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}this.setState({hightlight:!1})}}},{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"render",value:function(){return s.a.createElement("div",{className:"Dropzone ".concat(this.state.hightlight?"Highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?"default":"pointer"}},s.a.createElement("input",{ref:this.fileInputRef,className:"FileInput",type:"file",multiple:!0,onChange:this.onFilesAdded}),s.a.createElement("img",{alt:"upload",className:"Icon",src:m.a}),s.a.createElement("span",null,"Upload Excel .xlsx"))}}]),t}(n.Component),v=(a(20),a(21),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ProgressBar"},s.a.createElement("div",{className:"Progress",style:{width:this.props.progress+"%"}}))}}]),t}(n.Component)),b=a(11),O=a.n(b),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1,pdfUrl:null},a.onFilesAdded=a.onFilesAdded.bind(Object(h.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(h.a)(a)),a.renderActions=a.renderActions.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"onFilesAdded",value:function(e){this.setState((function(t){return{files:t.files.concat(e)}}))}},{key:"uploadFiles",value:function(){var e=this;this.setState({uploadProgress:{},uploading:!0});var t=new XMLHttpRequest;t.open("POST","https://ac6gag1rsl.execute-api.us-east-2.amazonaws.com/Prod/api/consignor/createlabels");var a=this.state.files.pop(),n=new FormData;n.append("file",a,a.name),t.send(n),t.onload=function(){var n=Object(u.a)({},e.state.uploadProgress);200===t.status?(n[a.name]={state:"done",percentage:100},e.setState({successfullUploaded:!0,uploading:!1,pdfUrl:JSON.parse(t.response).pdfUrl})):n[a.name]={state:"error",percentage:0},e.setState({uploadProgress:n})},t.onprogress=function(t){if(t.lengthComputable){var n=Object(u.a)({},e.state.uploadProgress);n[a.name]={state:"pending",percentage:t.loaded/t.total*100},e.setState({uploadProgress:n})}},t.onerror=function(){var t=Object(u.a)({},e.state.uploadProgress);t[a.name]={state:"error",percentage:0},e.setState({uploadProgress:t})}}},{key:"renderProgress",value:function(e){var t=this.state.uploadProgress[e.name];return this.state.uploading||this.state.successfullUploaded,s.a.createElement("div",{className:"ProgressWrapper"},s.a.createElement(v,{progress:t?t.percentage:0}),s.a.createElement("img",{className:"CheckIcon",alt:"done",src:O.a,style:{opacity:t&&"done"===t.state?.5:0}}))}},{key:"renderActions",value:function(){return this.state.successfullUploaded&&this.state.pdfUrl?s.a.createElement("a",{href:this.state.pdfUrl},s.a.createElement("button",null,"Download PDF")):s.a.createElement("button",{disabled:this.state.files.length<1||this.state.uploading,onClick:this.uploadFiles},"Create PDF")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Upload"},s.a.createElement("h2",null,"Half Pint Consignor Label Maker"),s.a.createElement("div",{className:"Title"},"STEP 1"),s.a.createElement("div",null,"Create your inventory spreadsheet. You can download an example to get started"," ",s.a.createElement("a",{href:"/halfpinttools-app/Consignor_Inventory_TEMPLATE.xlsx"},"here"),"."),s.a.createElement("div",{className:"Title"},"STEP 2"),s.a.createElement("div",null,"Upload your completed inventory spreadsheet and create your PDF."),!this.state.pdfUrl&&s.a.createElement("div",{className:"Content"},s.a.createElement("div",null,s.a.createElement(g,{onFilesAdded:this.onFilesAdded,disabled:this.state.files.length>0||this.state.uploading||this.state.successfullUploaded})),s.a.createElement("div",{className:"Files"},this.state.files.map((function(t){return s.a.createElement("div",{key:t.name,className:"Row"},s.a.createElement("span",{className:"Filename"},t.name),e.renderProgress(t))})))),s.a.createElement("div",{className:"Actions"},this.renderActions()))}}]),t}(n.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"Card"},s.a.createElement(E,null)))}}]),t}(n.Component);i.a.render(s.a.createElement(j,null),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.ac89daca.chunk.js.map