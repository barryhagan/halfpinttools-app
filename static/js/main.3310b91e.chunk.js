(this["webpackJsonphalfpinttools-app"]=this["webpackJsonphalfpinttools-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/baseline-cloud_upload-24px.3f7e59cc.svg"},function(e,t,a){e.exports=a.p+"static/media/baseline-check_circle_outline-24px.e0d99bb4.svg"},function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(10),i=a.n(r),l=(a(19),a(2)),o=a(3),c=a(5),d=a(4),u=a(6),p=(a(20),a(7)),h=a(8),f=a.n(h),m=a(11),v=a(1),g=(a(22),a(12)),b=a.n(g),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={hightlight:!1},a.fileInputRef=s.a.createRef(),a.openFileDialog=a.openFileDialog.bind(Object(v.a)(a)),a.onFilesAdded=a.onFilesAdded.bind(Object(v.a)(a)),a.onDragOver=a.onDragOver.bind(Object(v.a)(a)),a.onDragLeave=a.onDragLeave.bind(Object(v.a)(a)),a.onDrop=a.onDrop.bind(Object(v.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"openFileDialog",value:function(){this.props.disabled||this.fileInputRef.current.click()}},{key:"onFilesAdded",value:function(e){if(!this.props.disabled){var t=e.target.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}}}},{key:"onDragOver",value:function(e){e.preventDefault(),this.props.disabed||this.setState({hightlight:!0})}},{key:"onDragLeave",value:function(e){this.setState({hightlight:!1})}},{key:"onDrop",value:function(e){if(e.preventDefault(),!this.props.disabed){var t=e.dataTransfer.files;if(this.props.onFilesAdded){var a=this.fileListToArray(t);this.props.onFilesAdded(a)}this.setState({hightlight:!1})}}},{key:"fileListToArray",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e.item(a));return t}},{key:"render",value:function(){return s.a.createElement("div",{className:"Dropzone ".concat(this.state.hightlight?"Highlight":""),onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onClick:this.openFileDialog,style:{cursor:this.props.disabled?"default":"pointer"}},s.a.createElement("input",{ref:this.fileInputRef,className:"FileInput",type:"file",multiple:!0,onChange:this.onFilesAdded}),s.a.createElement("img",{alt:"upload",className:"Icon",src:b.a}),s.a.createElement("span",null,"Upload Excel .xlsx"))}}]),t}(n.Component),O=(a(23),a(24),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ProgressBar"},s.a.createElement("div",{className:"Progress",style:{width:this.props.progress+"%"}}))}}]),t}(n.Component)),j=a(13),y=a.n(j),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={files:[],uploading:!1,uploadProgress:{},successfullUploaded:!1},a.onFilesAdded=a.onFilesAdded.bind(Object(v.a)(a)),a.uploadFiles=a.uploadFiles.bind(Object(v.a)(a)),a.sendRequest=a.sendRequest.bind(Object(v.a)(a)),a.renderActions=a.renderActions.bind(Object(v.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"onFilesAdded",value:function(e){this.setState((function(t){return{files:t.files.concat(e)}}))}},{key:"uploadFiles",value:function(){var e=Object(m.a)(f.a.mark((function e(){var t,a=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({uploadProgress:{},uploading:!0}),t=[],this.state.files.forEach((function(e){t.push(a.sendRequest(e))})),e.prev=3,e.next=6,Promise.all(t);case 6:this.setState({successfullUploaded:!0,uploading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),this.setState({successfullUploaded:!0,uploading:!1});case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(e){var t=this;return new Promise((function(a,n){var s=new XMLHttpRequest;s.upload.addEventListener("progress",(function(a){if(a.lengthComputable){var n=Object(p.a)({},t.state.uploadProgress);n[e.name]={state:"pending",percentage:a.loaded/a.total*100},t.setState({uploadProgress:n})}})),s.upload.addEventListener("load",(function(n){var r=Object(p.a)({},t.state.uploadProgress);r[e.name]={state:"done",percentage:100},t.setState({uploadProgress:r}),a(s.response)})),s.upload.addEventListener("error",(function(a){var r=Object(p.a)({},t.state.uploadProgress);r[e.name]={state:"error",percentage:0},t.setState({uploadProgress:r}),n(s.response)}));var r=new FormData;r.append("file",e,e.name),s.open("POST","https://ac6gag1rsl.execute-api.us-east-2.amazonaws.com/Prod/api/consignor/createlabels"),s.send(r)}))}},{key:"renderProgress",value:function(e){var t=this.state.uploadProgress[e.name];if(this.state.uploading||this.state.successfullUploaded)return s.a.createElement("div",{className:"ProgressWrapper"},s.a.createElement(O,{progress:t?t.percentage:0}),s.a.createElement("img",{className:"CheckIcon",alt:"done",src:y.a,style:{opacity:t&&"done"===t.state?.5:0}}))}},{key:"renderActions",value:function(){var e=this;return this.state.successfullUploaded?s.a.createElement("button",{onClick:function(){return e.setState({files:[],successfullUploaded:!1})}},"Clear"):this.state.files.length>0?s.a.createElement("button",{disabled:this.state.files.length<0||this.state.uploading,onClick:this.uploadFiles},"Generate"):void 0}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Upload"},s.a.createElement("h2",null,"Half Pint Consignor Label Maker"),s.a.createElement("div",{className:"Title"},"STEP 1"),s.a.createElement("div",null,"Create your inventory spreadsheet. You can download an example to get started"," ",s.a.createElement("a",{href:"/halfpinttools-app/Consignor_Inventory_TEMPLATE.xlsx"},"here"),"."),s.a.createElement("div",{className:"Title"},"STEP 2"),s.a.createElement("div",null,"Upload your inventory spreadsheet."),s.a.createElement("div",{className:"Content"},s.a.createElement("div",null,s.a.createElement(E,{onFilesAdded:this.onFilesAdded,disabled:this.state.uploading||this.state.successfullUploaded})),s.a.createElement("div",{className:"Files"},this.state.files.map((function(t){return s.a.createElement("div",{key:t.name,className:"Row"},s.a.createElement("span",{className:"Filename"},t.name),e.renderProgress(t))})))),s.a.createElement("div",{className:"Actions"},this.renderActions()))}}]),t}(n.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"Card"},s.a.createElement(k,null)))}}]),t}(n.Component);i.a.render(s.a.createElement(F,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.3310b91e.chunk.js.map